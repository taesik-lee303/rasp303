# ============================================================================
# 라즈베리파이용 종합 Requirements 파일
# DeepTree 프로젝트 - 모든 모듈 실행에 필요한 라이브러리
# ============================================================================
# 
# 설치 방법:
#   pip install --no-cache-dir -r requirements_raspberry_pi.txt
#
# 시스템 패키지 사전 설치 필요:
#   sudo apt update
#   sudo apt install -y python3-pip python3-venv python3-dev
#   sudo apt install -y libopenblas-dev liblapack-dev libatlas-base-dev
#   sudo apt install -y libjpeg-dev zlib1g-dev libpng-dev
#   sudo apt install -y ffmpeg libavcodec-dev libavformat-dev libavutil-dev
#   sudo apt install -y portaudio19-dev python3-pyaudio
#   sudo apt install -y libsdl2-dev libsdl2-image-dev libsdl2-mixer-dev libsdl2-ttf-dev
#   sudo apt install -y i2c-tools  # MLX 센서용
#
# ============================================================================

# ============================================================================
# 1. 핵심 데이터 처리 및 과학 계산
# ============================================================================
# 라즈베리파이 최적화 버전 (메모리 효율적)
numpy>=1.21.0,<1.25.0
scipy>=1.7.0,<1.11.0
scikit-learn>=1.0.0,<1.3.0

# 웨이블릿 변환 (노이즈 제거용)
PyWavelets>=1.1.0,<1.4.0

# ============================================================================
# 2. 이미지 및 비디오 처리
# ============================================================================
# OpenCV (컴퓨터 비전, 열화상 처리)
opencv-python>=4.5.0,<4.9.0

# Pygame (원형 디스플레이용)
pygame>=2.0.0,<2.6.0

# ============================================================================
# 3. 오디오 처리 (STT/TTS)
# ============================================================================
# 오디오 입출력
sounddevice>=0.4.6

# WebRTC VAD (음성 활동 감지)
webrtcvad>=2.0.10

# ============================================================================
# 4. 네트워크 통신
# ============================================================================
# MQTT (색 치료 추천 발행)
paho-mqtt>=1.6.0,<2.0.0

# Kafka (이벤트 스트리밍)
# 참고: kafka-python-ng는 kafka-python의 최신 포크
kafka-python-ng>=2.2.0
# 또는 기존 kafka-python 사용 시:
# kafka-python>=2.0.2

# HTTP 클라이언트 (AI 서버 통신)
requests>=2.28.0

# ============================================================================
# 5. 시리얼 통신 (UART)
# ============================================================================
# 시리얼 포트 통신 (Pico 센서 데이터 수신)
pyserial>=3.5

# ============================================================================
# 6. 하드웨어 센서 (MLX90640/90641 열화상 센서)
# ============================================================================
# Adafruit CircuitPython 라이브러리
adafruit-circuitpython-mlx90640>=1.2.0
adafruit-circuitpython-mlx90641>=1.2.0
adafruit-blinka>=8.0.0

# CircuitPython 핵심 (board, busio)
# 참고: adafruit-blinka가 의존성으로 포함하지만 명시적으로 설치
circuitpython-build-tools>=7.0.0

# ============================================================================
# 7. AI/ML 서비스 (OpenAI API)
# ============================================================================
# OpenAI API (Whisper STT, TTS)
openai>=1.0.0

# ============================================================================
# 8. 웹 프레임워크 (테스트/대시보드용, 선택적)
# ============================================================================
# FastAPI (HTTP API 서버)
fastapi>=0.100.0,<0.116.0

# ASGI 서버
uvicorn[standard]>=0.20.0,<0.31.0

# ============================================================================
# 9. 유틸리티 및 설정 관리
# ============================================================================
# 환경 변수 관리
python-dotenv>=1.0.0

# YAML 파싱 (Kafka 토픽 설정)
pyyaml>=6.0

# JSON 스키마 검증
jsonschema>=4.17.0,<5.0.0

# 재시도 로직
tenacity>=8.0.0,<10.0.0

# 터미널 출력 포맷팅 (테스트용)
rich>=13.0.0

# ============================================================================
# 10. 시스템 모니터링 (선택적)
# ============================================================================
# 시스템 리소스 모니터링
psutil>=5.8.0

# 메모리 프로파일링 (개발용, 선택적)
# memory-profiler>=0.60.0

# ============================================================================
# 11. 데이터 직렬화 (선택적)
# ============================================================================
# Pickle 믹스인 (모델 저장/로드)
# pickle-mixin>=1.0.2  # 표준 pickle 사용 가능하므로 선택적

# Joblib (병렬 처리, 모델 저장)
joblib>=1.2.0,<1.4.0

# ============================================================================
# 참고사항
# ============================================================================
# 
# 1. MLX 센서 라이브러리:
#    - adafruit-blinka는 CircuitPython을 일반 Python에서 사용할 수 있게 해줍니다
#    - board, busio는 adafruit-blinka에 포함되어 있습니다
#
# 2. 비디오 재생:
#    - ffplay는 ffmpeg 패키지의 일부로 시스템 레벨에서 설치 필요
#    - sudo apt install ffmpeg
#
# 3. 오디오 디바이스:
#    - sounddevice는 PortAudio 라이브러리가 필요
#    - sudo apt install portaudio19-dev python3-pyaudio
#
# 4. Pygame 디스플레이:
#    - SDL2 라이브러리 필요
#    - sudo apt install libsdl2-dev libsdl2-image-dev libsdl2-mixer-dev libsdl2-ttf-dev
#
# 5. I2C 통신 (MLX 센서):
#    - 라즈베리파이에서 I2C 활성화 필요
#    - sudo raspi-config > Interface Options > I2C > Enable
#    - sudo apt install i2c-tools
#
# 6. 메모리 최적화:
#    - 라즈베리파이 4GB 이하에서는 일부 기능 비활성화 권장
#    - matplotlib, seaborn 등 시각화 라이브러리는 필요시만 설치
#
# 7. 버전 충돌 방지:
#    - --no-cache-dir 옵션 사용 권장
#    - 가상환경 사용 필수
#
# ============================================================================

